function show_about(e){switch(e){case"show":if($("#content-about").is(":visible")){show_about("hide")}else{$(".more-info").show();$("#content-about").slideDown("slow");$("#content-about-more").hide()}break;case"hide":$(".more-info").show();$("#content-about").hide();$("#content-about-more").hide();break;case"more":$(".more-info").hide();$("#content-about-more").slideDown("slow");break;case"less":$(".more-info").show();$("#content-about-more").slideUp("slow");break}}function show_contact(e){switch(e){case"show":if($("#content-contact").is(":visible")){show_contact("hide")}else{$(".contactsub").slideDown("slow")}break;case"hide":$(".contactsub").hide();break}}function nav_toggles(){$(".more-info").click(function(e){e.preventDefault();show_about("more")});$("#too-much").click(function(e){e.preventDefault();show_about("less")});$(".back-home").click(function(e){e.preventDefault();show_contact("hide");show_about("hide");scrollToAnchor("topanchor")});$("#filters a").click(function(e){e.preventDefault();var t=$(this).attr("id");switch(t){case"filter-work":show_contact("hide");show_about("hide");break;case"filter-tvc":show_contact("hide");show_about("hide");break;case"filter-content":show_contact("hide");show_about("hide");break;case"filter-film":show_contact("hide");show_about("hide");break;case"filter-contact":show_contact("show");show_about("hide");scrollToAnchor("topanchor");break}});$(".main-nav").click(function(e){e.preventDefault();var t=$(this).attr("id");switch(t){case"nav-work":show_contact("hide");scrollToAnchor("workarea");break;case"nav-about":show_about("show");show_contact("hide");break;case"nav-contact":show_about("hide");show_contact("show");break}})}function init_work(){var e=$("#vimeo_player")[0];var t=$f(e);t.addEvent("ready",function(){ready("vimeo_player")})}function get_playlist(e){AJAX_JSON_Req("js/charleswilliams.playlist.json",e)}function scrollToAnchor(e){var t=$("a[name='"+e+"']");$("html,body").animate({scrollTop:t.offset().top},"slow")}function addEvent(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else{e.attachEvent(t,n,false)}}function ready(e){var t=document.getElementById(e).parentNode.parentNode,n=$f(e);if(playlist_loaded===false){get_playlist(n)}else{$("#vimeo_player").show();$(".video-buffer").fadeOut();n.api("play")}}function do_work(e,t){var n=t;$(".workitembutton").each(function(){var t=$(this);var r=t.attr("id");t.on("click",function(t){t.preventDefault();$("#options.activatemobilemenu").toggleClass("activatemobilemenu");var i=e.workitems;for(var s in i){if(i[s].id==r){if($("#sticker-sticky-wrapper").width()<=754){window.location.href=i[s].video.toString()}else{do_video(i[s],r,n)}}}})});$(".close").click(function(){n.api("unload");$(".workitemreveal_player").fadeOut("slow")})}function do_video(e,t,n){console.log(e);console.log("play "+t);$(".video-buffer").show();$(".workitemreveal_player").show();$(".headingone").html(e.headingone);$(".subheading").html(e.subheading);$(".credits").html(e.credits);$("#vimeo_player").attr("src",e.video);$("#vimeo_player").hide();$(".workitemreveal_player").fitVids()}function totop(){$(".totop").hover(function(){$(this).animate({bottom:"-5px"},{queue:false,duration:60})},function(){$(this).animate({bottom:"-10px"},{queue:false,duration:60})});$(".totop").click(function(){$("html, body").animate({scrollTop:0},700);return false})}function AJAX_JSON_Req(e,t){var n=new XMLHttpRequest;n.open("GET",e,true);n.setRequestHeader("Content-type","application/json");n.onreadystatechange=function(){if(n.readyState==4&&n.status==200){var e=JSON.parse(n.responseText);var r=e;playlist_loaded=true;do_work(r,t)}};n.send()}var playlist_loaded=false;$(window).load(function(){$("#spinner").delay(800).fadeOut();$(".whitebg").delay(800).fadeOut("slow");$("#sticker").sticky({topSpacing:0,className:"cw"})});$(document).ready(function(){init_work();totop();nav_toggles();$(".item-on-hover").hover(function(){$(this).animate({opacity:1},200);$(this).children(".hover-link, .hover-image, .hover-video").animate({opacity:1},200)},function(){$(this).animate({opacity:0},200);$(this).children(".hover-link, .hover-image, .hover-video").animate({opacity:0},200)});$(".grid-item-on-hover").hover(function(){$(this).animate({opacity:.9},200)},function(){$(this).animate({opacity:0},200)});$("a.external").click(function(e){var t=$(this).attr("href");e.preventDefault();$(".whitebg").fadeIn(400,function(){$("#spinner").fadeIn(400);document.location.href=t});return false});$(".show_hide").click(function(){$("#options").toggleClass("activatemobilemenu")});$(".scrollbackmain").click(function(){scrollToAnchor("topanchor")});$(".hovercontent").hover(function(){$(".fluid-width-video-wrapper").removeClass("hidden");$(".fluid-width-video-wrapper").addClass("active")});$(".hovercontent").on("mouseleave",function(e){setTimeout(function(){$(".fluid-width-video-wrapper").removeClass("active").addClass("hidden")},100)})})